[tox]
envlist = py{310,311,312,313,314}, flake8

[testenv]
deps = -rtests/test-requirements.txt
commands = {posargs:pytest -p no:warnings}

[testenv:py310]
deps =
    pytest-cov
    {[testenv]deps}
commands = {posargs:pytest --cov --cov-report=xml --cov-config=.coveragerc -p no:warnings}

[testenv:flake8]
commands = flake8 src tests
deps = flake8

[flake8]
ignore = D203, E501, E203, W503
exclude =
    .git,
    .tox,
    .eggs,
    build,
    dist
